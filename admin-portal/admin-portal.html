<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ADMIN PORTAL</title>

    <!-- Import CSS -->
    <link rel="stylesheet" href="../assets/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/admin-portal.css">

    <!-- Import JS -->
    <script type="text/javascript" src="../assets/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="../assets/bootstrap/dist/js/bootstrap.min.js"></script>
    <script defer src="./js/admin-portal.js"></script>
</head>

<body>


    <div class="headfix">
        <div class="header text-center">
            <img src="../assets/data/150dpi (1) (1).png" alt="" srcset="" width="30px" height="30px">
            Welcome to Admin Portal, Technical Board IIIT Bhagalpur
        </div>
        <div class="navdesign container ">
            <ul class="navLink">
                <li data-bs-toggle="modal" data-bs-target="#changeImage">Change Image</li>
                <li data-bs-toggle="modal" data-bs-target="#Resourceadd">Add Resource</li>
                <li data-bs-toggle="modal" data-bs-target="#Newsadd">Add News</li>
                <li data-bs-toggle="modal" data-bs-target="#certAdd">Add Certificate</li>
            </ul>
            <div class="secondnav">
                <div class="user">
                    <div class="HeadImg">
                        <img src="data:image/<%=image.contentType%>;base64,<%=image.data.toString('base64')%>"
                            alt="reload" srcset="" width="30px" height="30px">
                        <h6 class="login">Hi, Mr. <%=fname%>
                        </h6>
                    </div>
                </div>
                <div class="logout">
                    <a href="#" data-bs-toggle="modal" data-bs-target="#changePassword">Change Password</a>
                    <a href="/logout/<%=username%>">Logout</a>
                </div>
            </div>
        </div>
    </div>
    <div class="container bodyelement">
        <!-- <div class="about mx-5 my-5"> -->
        <div class="mx-5 my-5">
            <div class="row justify-content-evenly">
                <div class="information col-md-4 col-12 py-3">
                    <div class="imageshow">
                        <img src="data:image/<%=image.contentType%>;base64,<%=image.data.toString('base64')%>"
                            alt="reload">
                        <div class="imageaccess">
                            <span class="activesocialform" data-bs-toggle="modal" data-bs-target="#changeImage">
                                <span class="fa fa-plus"></span>
                            </span>
                        </div>
                    </div>
                    <div class="col-12 ">
                        <div class="row g-0 ">
                            <div class="data headName">
                                <%=fname+" "+lname%>
                            </div>
                        </div>
                        <div class=" row g-0">
                                    <div class="data">
                                        (Cordinator of <%=club%>)
                                    </div>
                            </div>
                            <div class=" row g-0 ">
                                <div class="data">
                                    <%=email%>

                                </div>
                            </div>
                            <div class="row g-0 text-center">
                                <div class="col-4 social">
                                    <a href="<%=github%>" target="_blank">
                                        <span class="fa fa-github"></span>
                                    </a>
                                </div>
                                <div class="col-4 social">
                                    <a href="<%=linkedin%>" target="_blank">
                                        <span class="fa fa-linkedin"></span>
                                    </a>
                                </div>
                                <div class="col-4 social">
                                    <a href="<%=instagram%>" target="_blank">
                                        <span class="fa fa-instagram"></span>
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <p class="text-end">
                                    Want to change Social Link :
                                    <span class="activesocialform" data-bs-toggle="modal" data-bs-target="#socialform">
                                        here
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="information col-md-7 col-12 py-3">
                        <div class="commonSection">
                            <h3>Resources</h3>
                            <span class="activesocialform" data-bs-toggle="modal" data-bs-target="#Resourceadd">
                                Add Resources
                            </span>
                        </div>
                        <div class="container">
                            <%for(var i=resources.length-1;i>=0;i--){%>
                                <div class="resources">
                                    <div class="d-flex justify-content-between" style="width:80% ;">
                                        <h4>
                                            <%=resources[i].topic%>
                                        </h4>
                                        <span data-bs-toggle="modal" data-bs-target="#DeleteResource"
                                            id="<%= resources[i]._id %>" onclick="ResourseDelete(this.id)"
                                            style="font-size:20px; cursor: pointer;">
                                            <i class="fa fa-trash"></i>
                                        </span>
                                    </div>
                                    <p>
                                        <%=resources[i].desc%>
                                    </p>
                                    <p>
                                        <a href="<%=resources[i].link%>" target="_blank">
                                            <%=resources[i].link%>
                                        </a>
                                    </p>
                                    <span>
                                        <%=resources[i].date%>
                                    </span>
                                </div>
                                <%}%>
                        </div>
                    </div>
                </div>
            </div>
            <div class="Newsdivision mx-5 my-5">
                <div class="commonSection">
                    <h3>News</h3>
                    <span class="activesocialform" data-bs-toggle="modal" data-bs-target="#Newsadd">
                        Add News
                    </span>
                </div>
                <div class="showSlide">
                    <%for(var i=news.length-1;i>=0;i--){%>
                        <div class="newshowcard">
                            <div class="d-flex justify-content-between">
                                <div class="newsheading">
                                    <%=news[i].topic%>
                                </div>
                                <span data-bs-toggle="modal" data-bs-target="#DeleteNews" id="<%= news[i]._id %>"
                                    onclick="NewsDelete(this.id)" style="font-size:20px; cursor: pointer;">
                                    <i class="fa fa-trash"></i>
                                </span>
                            </div>
                            <p class="newsDesc">
                                <%=news[i].desc%>
                            </p>
                            <a href="<%=news[i].link%>" target="_blank" class="newsLink">News Link</a>
                            <p class="newsby">
                                <%=news[i].by%>
                            </p>
                        </div>
                        <%}%>
                </div>
            </div>
        </div>

        <footer>
            <div class="container mx-5">
                <div class="row justify-content-evenly">
                    <div class="col-3">
                        <ul class="text-center">
                            <li><a href="/">Home</a></li>
                            <li><a href="/web">Webverse</a></li>
                            <li><a href="/coding">Pyc</a></li>
                            <li><a href="/ai">AI/ML</a></li>
                            <li><a href="/electronics">Electro</a></li>
                        </ul>
                    </div>
                    <div class="col-3">
                        <ul class="text-center">
                            <li><a href="/robotics">Robotics</a></li>
                            <li><a href="/cyber">Cyber</a></li>
                            <li><a href="/android">AppDev</a></li>
                            <li><a href="/blockchain">BlockChain</a></li>
                            <li><a href="/ecell">E-Cell</a></li>
                        </ul>
                    </div>
                    <div class="col-4">
                        <h6 class="text-center">Why this</h6>
                        <p class="text-center">
                            This Platform is design to help coordinators to maintain their club as community.
                            Provide help to everyone in which we can is our moto.
                        </p>
                    </div>
                </div>
                <div class="text-center">Copyright reserved : Technical Board, IIIT Bhagalpur</div>
            </div>
        </footer>

        <!-- Model News Delete -->
        <div class="modal fade" id="DeleteNews" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <form action="/Newsdelete/<%= club%>" method="POST" id="DeleteNewsForm" style="padding: 2%;">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <h4 class="text-center">Password</h4>
                        <div class="d-flex flex-column align-items-center justify-content-center">
                            <input type="text" name="id" id="tittleDeleteN" required style="margin-bottom: 2%;" hidden>
                            <input type="text" name="username" id="NewsnameDelete" value='<%=username%>'>
                            <input type="password" name="password" placeholder="Password" required
                                style="margin-bottom: 2%;">
                            <input type="submit" value="Confirm">
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Model Resource Delete -->
        <div class="modal fade" id="DeleteResource" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <form action="/Rdelete/<%= club%>" method="POST" id="DeleteResourceForm" style="padding: 2%;">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <h4 class="text-center">Password</h4>
                        <div class="d-flex flex-column align-items-center justify-content-center">
                            <input type="text" name="id" id="tittleDeleteR" required style="margin-bottom: 2%;" hidden>
                            <input type="text" name="username" id="ResourcenameDelete" value='<%=username%>'>
                            <input type="password" name="password" placeholder="Password" required
                                style="margin-bottom: 2%;">
                            <input type="submit" value="Confirm">
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Model Password Change -->
        <div class="modal fade" id="changePassword" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <form action="/changep/<%=username%>" method="POST" id="changePasswordForm" style="padding: 2%;">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <h4 class="text-center">Change Password</h4>
                        <div class="d-flex flex-column align-items-center justify-content-center">
                            <input type="password" name="password" placeholder="Current Password" required
                                style="margin-bottom: 2%;">
                            <input type="password" name="npassword" placeholder="New Password" required
                                style="margin-bottom: 2%;">
                            <input type="password" name="cpassword" placeholder="Confirm Password" required
                                style="margin-bottom: 2%;">
                            <input type="submit" value="Update">
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Model Certificate -->
        <div class="modal fade" id="certAdd" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <form action="/certAdd/<%=username%>" method="POST" id="certAddForm" enctype="multipart/form-data">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <h4 class="text-center">Upload Certficate</h4>
                        <div class="form-input">
                            <div class="input-field row">
                                <span class="col-4">Certificate Id: </span>
                                <input class="col-8" type="text" name="id" required placeholder="Enter Certificate Id">
                            </div>
                            <div class="input-field row">
                                <span class="col-4">Name: </span>
                                <input class="col-8" type="text" name="name" required placeholder="Enter Name">
                            </div>
                            <div class="input-field row">
                                <span class="col-4">Event: </span>
                                <input class="col-8" type="text" name="event" required placeholder="Enter Event Name">
                            </div>
                            <div class="input-field row">
                                <span class="col-4">Club: </span>
                                <input class="col-8" type="text" name="club" required placeholder="Enter Club Name">
                            </div>
                            <div class="input-field row">
                                <span class="col-4">Date: </span>
                                <input class="col-8" type="date" name="date" required>
                            </div>
                            <div class="input-field row">
                                <span class="col-4">Certificate: </span>
                                <input class="col-8" type="file" name="image" required>
                            </div>
                            <div class="input-field row">
                                <input type="submit" value="Add">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Model Image -->
        <div class="modal fade" id="changeImage" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <form action="/imageUpload/<%=username%>" method="POST" id="changeImageForm"
                        enctype="multipart/form-data">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <h4 class="text-center">Change Image</h4>
                        <div>
                            <input type="file" name="image">
                            <input type="submit" value="Upload">
                        </div>
                        <p>Note: size should be less then 1mb</p>
                    </form>
                </div>
            </div>
        </div>
        <!-- Modal for social link change -->
        <div class="modal fade" id="socialform" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <form action='/dataUpdate/<%=username%>' method="POST" class="socialdesign">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <h4 class="text-center">Social</h4>
                        <div class="row">
                            <div class="col-2 sicon"><span class="fa fa-linkedin"></span></div>
                            <input class="col-10 data-change" type="text" name="linkedin"
                                placeholder="Enter LinkedIn public profile link" value="<%=linkedin%>" required>
                        </div>
                        <div class="row">
                            <div class="col-2 sicon"><span class="fa fa-instagram"></span></div>
                            <input class="col-10 data-change" type="text" name="instagram"
                                placeholder="Enter Instagram public profile link" value="<%=instagram%>" required>
                        </div>
                        <div class="row">
                            <div class="col-2 sicon"><span class="fa fa-github"></span></div>
                            <input class="col-10 data-change" type="text" name="github"
                                placeholder="Enter GitHub public profile link" value="<%=github%>" required>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button class="btn update" type="submit">Update</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- Modal for Resource change -->
        <div class="modal fade" id="Resourceadd" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <form action="/Data/<%=club%>" method="post" id="ResourceForm">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <h4 class="text-center">Add Resource</h4>
                        <div class="row">
                            <div class="col-3">
                                <label for="topic">Topic</label>
                            </div>
                            <div class="col-9">
                                <input type="text" id="topic" name="topic" required>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="desc">Description</label>
                            </div>
                            <div class="col-9">
                                <textarea name="desc" id="desc" cols="30" rows="5" required></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="link">Link</label>
                            </div>
                            <div class="col-9">
                                <input type="text" name="link" id="link" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="type">Type</label>
                            </div>
                            <div class="col-9">
                                <input type="text" id="type" name="type" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="Resourcename">Name</label>
                            </div>
                            <div class="col-9">
                                <input type="text" name="username" id="Resourcename" value='<%=username%>'>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="password">Password</label>
                            </div>
                            <div class="col-9">
                                <input type="password" name="password" id="password" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 text-center">
                                <input type="submit" value="Submit">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>


        <!-- Modal for news update -->
        <div class="modal fade" id="Newsadd" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <form action="/newsadd/<%=username%>" method="post" id="NewsForm">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        <h4 class="text-center">Add News</h4>
                        <div class="row">
                            <div class="col-3">
                                <label for="Ntopic">Topic</label>
                            </div>
                            <div class="col-9">
                                <input type="text" id="Ntopic" name="topic" required>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="Ndesc">Description</label>
                            </div>
                            <div class="col-9">
                                <textarea name="desc" id="Ndesc" cols="30" rows="5" required></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="Nlink">Link</label>
                            </div>
                            <div class="col-9">
                                <input type="text" name="link" id="Nlink" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="Newsname">Name</label>
                            </div>
                            <div class="col-9">
                                <input type="text" name="fname" id="Newsname" value='<%=fname%>'>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label for="Npassword">Password</label>
                            </div>
                            <div class="col-9">
                                <input type="password" name="password" id="Npassword" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 text-center">
                                <input type="submit" value="Submit">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
</body>

</html>